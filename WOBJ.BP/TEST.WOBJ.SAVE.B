PROGRAM TEST.WOBJ
PRINT "TEST.OBJ 1.3"
OPEN "RESULT.FILE" TO RFILE ELSE STOP "no rfile"
OPEN "MD" TO MD ELSE STOP
READ JSON FROM RFILE, 'json.json' ELSE STOP "NO json.json"
PRINT 'LEN OF JSON=':LEN(JSON)
GOSUB debug.on
S=SYSTEM(12)
PRINT "START: ":S
CALL WOBJ(JSONOBJECT,"FROMSTRING","",JSON,"",RERR)
E=SYSTEM(12)
PRINT "END: ":E
PRINT "TOTAL: ":E-S
WRITE JSONOBJECT ON RFILE, 'OBJECT'
PRINT "DOING SEARCH FOR RestVersion"
GOSUB debug.on
PRINT "ENTER NODE TO FIND: ":; INPUT NODETOFIND
CALL WOBJ(JSONOBJECT,"GET",NODETOFIND,VALUE,"",RERR)
PRINT "VALUE=":VALUE:" RERR=":RERR<2>
*
CALL WOBJ(JSONOBJECT,"TOSTRING","",JSON,"",RERR)
WRITE JSON ON RFILE, "NEW.JSON"
PRINT JSON
GOSUB debug.off
STOP
*
debug.on: *
WRITEV 1 ON MD, "WOBJ.DEBUG", 2
RETURN
*
debug.off: *
WRITEV 0 ON MD, "WOBJ.DEBUG", 2
RETURN


